<template>
  <div>
    <p id="carMap">carmap</p>
    <div id="carMapEcharts" :style="{width: '100%', height: '700px'}"></div>
  </div>
</template>

<script>
//引入charts
let echarts = require("echarts/lib/echarts");
//引入相关图
require("echarts/lib/chart/lines");
require("echarts/lib/component/geo/GeoView");
export default {
  name: "carMap",
  data() {
    return {
      list: []
    };
  },
  mounted() {
    this.getMap();
  },
  methods: {
    getMap() {
      var lines = [
        {
          coords: [
            [121.448029, 31.198981],
            [121.448319, 31.19844],
            [121.448319, 31.19844],
            [121.448416, 31.198212],
            [121.448469, 31.19809],
            [121.448469, 31.19809],
            [121.448578, 31.19768],
            [121.448578, 31.19768],
            [121.448608, 31.1973],
            [121.448608, 31.197299],
            [121.448602, 31.197179],
            [121.448578, 31.19666],
            [121.448578, 31.196659],
            [121.448543, 31.196269],
            [121.448536, 31.196189],
            [121.448487, 31.19563],
            [121.448487, 31.195629],
            [121.448452, 31.19543],
            [121.448444, 31.19538],
            [121.448336, 31.19476],
            [121.448336, 31.194759],
            [121.448486, 31.19407],
            [121.448486, 31.194069],
            [121.448576, 31.193839],
            [121.448665, 31.193609],
            [121.448665, 31.193608],
            [121.4487, 31.193527],
            [121.448747, 31.193419],
            [121.4488, 31.193297],
            [121.449125, 31.192547],
            [121.449125, 31.192547],
            [121.449482, 31.191565],
            [121.4495, 31.191515],
            [121.44964, 31.191131],
            [121.449741, 31.190852],
            [121.449883, 31.190462],
            [121.450002, 31.190134],
            [121.450057, 31.189982],
            [121.450131, 31.18978],
            [121.450131, 31.18978],
            [121.450133, 31.189774],
            [121.45016, 31.189702],
            [121.45024, 31.189492],
            [121.450469, 31.188891],
            [121.450522, 31.188751],
            [121.450613, 31.188511],
            [121.450613, 31.188511],
            [121.450843, 31.18802],
            [121.450843, 31.18802],
            [121.450887, 31.187849],
            [121.450922, 31.187718],
            [121.451103, 31.187019],
            [121.451103, 31.187019],
            [121.451183, 31.186889],
            [121.451184, 31.186878],
            [121.451233, 31.186229],
            [121.451233, 31.186228],
            [121.451247, 31.186157],
            [121.451298, 31.185897],
            [121.451329, 31.185737],
            [121.451344, 31.185658],
            [121.451368, 31.185537],
            [121.451436, 31.185186],
            [121.451497, 31.184876],
            [121.451522, 31.184747],
            [121.451522, 31.184747],
            [121.451591, 31.18452],
            [121.451591, 31.18452],
            [121.451592, 31.184517],
            [121.451593, 31.184514],
            [121.451702, 31.184216],
            [121.451851, 31.183999],
            [121.452049, 31.183712],
            [121.452108, 31.183626],
            [121.452533, 31.183011],
            [121.452533, 31.183011],
            [121.45271, 31.182784],
            [121.452825, 31.182636],
            [121.453329, 31.181989],
            [121.453715, 31.181493],
            [121.453715, 31.181493],
            [121.453802, 31.181391],
            [121.454374, 31.18072],
            [121.454374, 31.18072],
            [121.454376, 31.180718],
            [121.455277, 31.179661],
            [121.455277, 31.179661],
            [121.454736, 31.179735],
            [121.453843, 31.179856],
            [121.453334, 31.179926],
            [121.453173, 31.179956],
            [121.452622, 31.18006],
            [121.452622, 31.18006],
            [121.452386, 31.180149],
            [121.452167, 31.180232],
            [121.452065, 31.180271],
            [121.451952, 31.180314],
            [121.451952, 31.180314],
            [121.451798, 31.180413],
            [121.451761, 31.180437],
            [121.451591, 31.180546],
            [121.451161, 31.180608],
            [121.451207, 31.180178],
            [121.45119, 31.180338],
            [121.45119, 31.180338],
            [121.451201, 31.180228],
            [121.451211, 31.180138],
            [121.451211, 31.180138],
            [121.451211, 31.179828],
            [121.451211, 31.179828],
            [121.451091, 31.179028],
            [121.451091, 31.179028],
            [121.451091, 31.178578],
            [121.451091, 31.178388],
            [121.451091, 31.178058],
            [121.451091, 31.177928],
            [121.451091, 31.177818],
            [121.45111, 31.177328],
            [121.451118, 31.177118],
            [121.451121, 31.177028],
            [121.451121, 31.177028],
            [121.451211, 31.176228],
            [121.451247, 31.176017],
            [121.451309, 31.175647],
            [121.45135, 31.175403],
            [121.45135, 31.175403],
            [121.451351, 31.175397],
            [121.451691, 31.173565],
            [121.451691, 31.173565],
            [121.451735, 31.173206],
            [121.451758, 31.173016],
            [121.451775, 31.172875],
            [121.451872, 31.172085],
            [121.452012, 31.171614],
            [121.452453, 31.170752],
            [121.452453, 31.170751],
            [121.45373, 31.168489],
            [121.454344, 31.167401],
            [121.454708, 31.166756],
            [121.454708, 31.166756],
            [121.454839, 31.166545],
            [121.455568, 31.165018],
            [121.455611, 31.164929],
            [121.455611, 31.164929],
            [121.456033, 31.164115],
            [121.456033, 31.164115],
            [121.456143, 31.163824],
            [121.456219, 31.163472],
            [121.456294, 31.163123],
            [121.456294, 31.163123],
            [121.456299, 31.163053],
            [121.456326, 31.162653],
            [121.456362, 31.162122],
            [121.456395, 31.161634],
            [121.456395, 31.161632],
            [121.456421, 31.161251],
            [121.456471, 31.160511],
            [121.456516, 31.159851],
            [121.456561, 31.15919],
            [121.456584, 31.15885],
            [121.456669, 31.157605],
            [121.456669, 31.1576],
            [121.456695, 31.15721],
            [121.456723, 31.156779],
            [121.456752, 31.15635],
            [121.456994, 31.152698],
            [121.456994, 31.152698],
            [121.457054, 31.151518],
            [121.457096, 31.150677],
            [121.457112, 31.150367],
            [121.457137, 31.149863],
            [121.457137, 31.149863],
            [121.457155, 31.149457],
            [121.45718, 31.148907],
            [121.457219, 31.148057],
            [121.45727, 31.147597],
            [121.457371, 31.147086],
            [121.457491, 31.146635],
            [121.45812, 31.145243],
            [121.458376, 31.144676],
            [121.458376, 31.144676]
          ],
          lineStyle: { normal: { color: "rgba(128, 0, 128, 1)" } }
        }
      ];
      const option = {
        bmap: {
          center: [121.494687, 31.23937],
          zoom: 12,
          coordinateSystem :'bmap',
          roam: true,
          mapStyle: {
            styleJson: [
              {
                featureType: "water",
                elementType: "all",
                stylers: {
                  color: "#031628"
                }
              },
              {
                featureType: "land",
                elementType: "geometry",
                stylers: {
                  color: "#000102"
                }
              },
              {
                featureType: "highway",
                elementType: "all",
                stylers: {
                  visibility: "off"
                }
              },
              {
                featureType: "arterial",
                elementType: "geometry.fill",
                stylers: {
                  color: "#000000"
                }
              },
              {
                featureType: "arterial",
                elementType: "geometry.stroke",
                stylers: {
                  color: "#0b3d51"
                }
              },
              {
                featureType: "local",
                elementType: "geometry",
                stylers: {
                  color: "#000000"
                }
              },
              {
                featureType: "railway",
                elementType: "geometry.fill",
                stylers: {
                  color: "#000000"
                }
              },
              {
                featureType: "railway",
                elementType: "geometry.stroke",
                stylers: {
                  color: "#08304b"
                }
              },
              {
                featureType: "subway",
                elementType: "geometry",
                stylers: {
                  // 'color': '#000000',// 默认透明显示地铁线路
                  lightness: -70
                }
              },
              {
                featureType: "building",
                elementType: "geometry.fill",
                stylers: {
                  color: "#000000"
                }
              },
              {
                featureType: "all",
                elementType: "labels.text.fill",
                stylers: {
                  color: "#857f7f"
                }
              },
              {
                featureType: "all",
                elementType: "labels.text.stroke",
                stylers: {
                  color: "#000000"
                }
              },
              {
                featureType: "building",
                elementType: "geometry",
                stylers: {
                  color: "#022338"
                }
              },
              {
                featureType: "green",
                elementType: "geometry",
                stylers: {
                  color: "#062032"
                }
              },
              {
                featureType: "boundary",
                elementType: "all",
                stylers: {
                  color: "#465b6c"
                }
              },
              {
                featureType: "manmade",
                elementType: "all",
                stylers: {
                  color: "#022338"
                }
              },
              {
                featureType: "label",
                elementType: "all",
                stylers: {
                  visibility: "off"
                }
              }
            ]
          }
        },
        series: [
          {
            type: "lines",
            coordinateSystem: "bmap",
            polyline: true,
            data: lines,
            silent: true,
            lineStyle: {
              normal: {
                // color: '#c23531',
                // color: 'rgb(200, 35, 45)',
                opacity: 0.4,
                width: 2.5
              }
            },
            progressiveThreshold: 500,
            progressive: 200
          },
          {
            type: "lines",
            polyline: true,
            data: lines,
            lineStyle: {
              normal: {
                width: 0
              }
            },
            effect: {
              constantSpeed: 50,
              show: true,
              trailLength: 0.6,
              symbolSize: 3
            },
            zlevel: 1
          }
        ]
      };
      const myChart = echarts.init(document.getElementById("carMapEcharts"));
      myChart.setOption(option);
    }
  }
};
</script>

<style lang="scss" scoped>
</style>